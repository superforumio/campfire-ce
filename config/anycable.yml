default: &default
  # Mount HTTP RPC endpoint in Rails (no separate gRPC process needed)
  http_rpc_mount_path: "/_anycable"

  # Use HTTP for broadcasting to AnyCable-Go
  broadcast_adapter: http
  http_broadcast_url: "http://localhost:8080/_broadcast"

development:
  <<: *default
  websocket_url: "ws://localhost:8080/cable"
  secret: "development-secret-change-in-production"

test:
  <<: *default
  secret: "test-secret"

production:
  <<: *default
  websocket_url: <%= "wss://#{ENV['APP_HOST']}/cable" %>
  http_broadcast_url: "http://anycable:8080/_broadcast"
  secret: <%= ENV["ANYCABLE_SECRET"] %>
