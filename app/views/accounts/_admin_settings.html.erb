<div class="margin-block pad fill-shade border-radius txt-align-center">
  <div class="flex flex-column gap align-center">

    <%= form_with model: @account, data: { controller: "form" }, class: "flex flex-column gap align-center" do |form| %>
      <!-- Authentication Method -->
      <div class="flex flex-column gap align-center" style="--row-gap: 0.5em">
        <strong>Authentication Method</strong>
        <div class="flex flex-column gap-half">
          <label class="flex align-center gap-half">
            <%= form.radio_button :auth_method, "password", data: { action: "change->form#submit" } %>
            <span>Password (email + password)</span>
          </label>
          <label class="flex align-center gap-half">
            <%= form.radio_button :auth_method, "otp", data: { action: "change->form#submit" } %>
            <span>OTP (passwordless, email code)</span>
          </label>
        </div>
        <span class="txt-small txt-subtle">Choose how users authenticate. Changes affect new sign-ins.</span>
      </div>

      <hr class="separator full-width">

      <!-- Open Registration -->
      <div class="flex flex-column gap align-center" style="--row-gap: 0.5em">
        <strong>Registration Access</strong>
        <div class="flex align-center gap">
          <label class="switch">
            <%= form.check_box :open_registration, class: "switch__input", data: { action: "change->form#submit" } %>
            <span class="switch__btn"></span>
            <span class="for-screen-reader">Allow open registration</span>
          </label>
          <span>Allow open registration</span>
        </div>
        <span class="txt-small txt-subtle">When disabled, users need an invite link with join code.</span>
      </div>
    <% end %>
  </div>
</div>
